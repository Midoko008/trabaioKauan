{"ast":null,"code":"var _jsxFileName = \"F:\\\\kauan\\\\frontend2\\\\src\\\\pages\\\\paginaInicial.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PaginaInicial() {\n  _s();\n  const [produtos, setProdutos] = useState([]);\n  const [produtosNoCarrinho, setProdutosNoCarrinho] = useState([]);\n  const navigate = useNavigate();\n  useEffect(() => {\n    fetch('http://localhost:5000/produtos').then(res => res.json()).then(data => setProdutos(data)).catch(err => console.error('Erro ao buscar produtos:', err));\n    fetch('http://localhost:5000/carrinho').then(res => res.json()).then(data => setProdutosNoCarrinho(data.map(prod => prod.id))).catch(err => console.error('Erro ao buscar carrinho:', err));\n  }, []);\n  function irParaPerfil() {\n    navigate('/perfil');\n  }\n  function abrirDetalhes(id) {\n    navigate(`/produto/${id}`);\n  }\n  function irParaAdicionarProduto() {\n    navigate('/adicionar-produto');\n  }\n  function irParaCarrinho() {\n    navigate('/carrinho');\n  }\n  function adicionarAoCarrinho(id) {\n    fetch('http://localhost:5000/carrinho', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        produto_id: id\n      })\n    }).then(res => res.json()).then(data => {\n      alert(data.mensagem || data.erro);\n      if (data.mensagem) {\n        setProdutosNoCarrinho(prev => [...prev, id]);\n      }\n    }).catch(() => alert('Erro ao adicionar ao carrinho'));\n  }\n  function removerDoCarrinho(id) {\n    fetch(`http://localhost:5000/carrinho/${id}`, {\n      method: 'DELETE'\n    }).then(res => res.json()).then(data => {\n      alert(data.mensagem || data.erro);\n      if (data.mensagem) {\n        setProdutosNoCarrinho(prev => prev.filter(pid => pid !== id));\n      }\n    }).catch(() => alert('Erro ao remover do carrinho'));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pagina-inicial\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Feed de Produtos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botao-perfil\",\n          onClick: irParaPerfil,\n          children: \"Ver Perfil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botao-adicionar\",\n          onClick: irParaAdicionarProduto,\n          style: {\n            marginLeft: '10px',\n            backgroundColor: '#28a745'\n          },\n          children: \"Adicionar Produto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botao-carrinho\",\n          onClick: irParaCarrinho,\n          style: {\n            marginLeft: '10px',\n            backgroundColor: '#ffc107',\n            color: '#000'\n          },\n          children: [\"Carrinho (\", produtosNoCarrinho.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"lista-produtos\",\n      children: produtos.map(produto => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-produto\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: produto.imagem_url,\n          alt: produto.nome,\n          className: \"imagem-produto\",\n          onClick: () => abrirDetalhes(produto.id),\n          style: {\n            cursor: 'pointer'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: produto.nome\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Pre\\xE7o: R$ \", produto.preco.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), produtosNoCarrinho.includes(produto.id) ? /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botao-carrinho\",\n          onClick: () => removerDoCarrinho(produto.id),\n          style: {\n            backgroundColor: '#dc3545',\n            marginTop: '10px'\n          },\n          children: \"Remover do Carrinho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"botao-carrinho\",\n          onClick: () => adicionarAoCarrinho(produto.id),\n          style: {\n            marginTop: '10px'\n          },\n          children: \"Adicionar ao Carrinho\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)]\n      }, produto.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n}\n_s(PaginaInicial, \"eI2Zsm2vuarxoL1ySvrnZhCc/oc=\", false, function () {\n  return [useNavigate];\n});\n_c = PaginaInicial;\nvar _c;\n$RefreshReg$(_c, \"PaginaInicial\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","PaginaInicial","_s","produtos","setProdutos","produtosNoCarrinho","setProdutosNoCarrinho","navigate","fetch","then","res","json","data","catch","err","console","error","map","prod","id","irParaPerfil","abrirDetalhes","irParaAdicionarProduto","irParaCarrinho","adicionarAoCarrinho","method","headers","body","JSON","stringify","produto_id","alert","mensagem","erro","prev","removerDoCarrinho","filter","pid","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","marginLeft","backgroundColor","color","length","produto","src","imagem_url","alt","nome","cursor","preco","toFixed","includes","marginTop","_c","$RefreshReg$"],"sources":["F:/kauan/frontend2/src/pages/paginaInicial.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../App.css';\r\n\r\nexport default function PaginaInicial() {\r\n  const [produtos, setProdutos] = useState([]);\r\n  const [produtosNoCarrinho, setProdutosNoCarrinho] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/produtos')\r\n      .then(res => res.json())\r\n      .then(data => setProdutos(data))\r\n      .catch(err => console.error('Erro ao buscar produtos:', err));\r\n\r\n    fetch('http://localhost:5000/carrinho')\r\n      .then(res => res.json())\r\n      .then(data => setProdutosNoCarrinho(data.map(prod => prod.id)))\r\n      .catch(err => console.error('Erro ao buscar carrinho:', err));\r\n  }, []);\r\n\r\n  function irParaPerfil() {\r\n    navigate('/perfil');\r\n  }\r\n\r\n  function abrirDetalhes(id) {\r\n    navigate(`/produto/${id}`);\r\n  }\r\n\r\n  function irParaAdicionarProduto() {\r\n    navigate('/adicionar-produto');\r\n  }\r\n\r\n  function irParaCarrinho() {\r\n    navigate('/carrinho');\r\n  }\r\n\r\n  function adicionarAoCarrinho(id) {\r\n    fetch('http://localhost:5000/carrinho', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ produto_id: id })\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        alert(data.mensagem || data.erro);\r\n        if (data.mensagem) {\r\n          setProdutosNoCarrinho(prev => [...prev, id]);\r\n        }\r\n      })\r\n      .catch(() => alert('Erro ao adicionar ao carrinho'));\r\n  }\r\n\r\n  function removerDoCarrinho(id) {\r\n    fetch(`http://localhost:5000/carrinho/${id}`, {\r\n      method: 'DELETE',\r\n    })\r\n      .then(res => res.json())\r\n      .then(data => {\r\n        alert(data.mensagem || data.erro);\r\n        if (data.mensagem) {\r\n          setProdutosNoCarrinho(prev => prev.filter(pid => pid !== id));\r\n        }\r\n      })\r\n      .catch(() => alert('Erro ao remover do carrinho'));\r\n  }\r\n\r\n  return (\r\n    <div className=\"pagina-inicial\">\r\n      <header className=\"header\">\r\n        <h1>Feed de Produtos</h1>\r\n        <div>\r\n          <button className=\"botao-perfil\" onClick={irParaPerfil}>Ver Perfil</button>\r\n          <button \r\n            className=\"botao-adicionar\" \r\n            onClick={irParaAdicionarProduto} \r\n            style={{ marginLeft: '10px', backgroundColor: '#28a745' }}\r\n          >\r\n            Adicionar Produto\r\n          </button>\r\n          <button\r\n            className=\"botao-carrinho\"\r\n            onClick={irParaCarrinho}\r\n            style={{ marginLeft: '10px', backgroundColor: '#ffc107', color: '#000' }}\r\n          >\r\n            Carrinho ({produtosNoCarrinho.length})\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div className=\"lista-produtos\">\r\n        {produtos.map(produto => (\r\n          <div key={produto.id} className=\"card-produto\">\r\n            <img \r\n              src={produto.imagem_url} \r\n              alt={produto.nome} \r\n              className=\"imagem-produto\"\r\n              onClick={() => abrirDetalhes(produto.id)}\r\n              style={{ cursor: 'pointer' }}\r\n            />\r\n            <h3>{produto.nome}</h3>\r\n            <p>Preço: R$ {produto.preco.toFixed(2)}</p>\r\n            {produtosNoCarrinho.includes(produto.id) ? (\r\n              <button\r\n                className=\"botao-carrinho\"\r\n                onClick={() => removerDoCarrinho(produto.id)}\r\n                style={{ backgroundColor: '#dc3545', marginTop: '10px' }}\r\n              >\r\n                Remover do Carrinho\r\n              </button>\r\n            ) : (\r\n              <button\r\n                className=\"botao-carrinho\"\r\n                onClick={() => adicionarAoCarrinho(produto.id)}\r\n                style={{ marginTop: '10px' }}\r\n              >\r\n                Adicionar ao Carrinho\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}